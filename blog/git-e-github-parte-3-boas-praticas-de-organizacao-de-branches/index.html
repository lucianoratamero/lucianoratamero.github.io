<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{},{}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.ba4c128a.js"}catch(e){main="/client/legacy/client.b5ae4b81.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=client/client-2e2ca2b4.css rel=stylesheet> <title> git e github parte 3: boas práticas de organização de branches - luciano@ratamero.com </title><style>.hljs{display:block;overflow-x:auto;padding:.5em;background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{color:#569cd6;text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212;display:inline-block;width:100%}.hljs-deletion{background-color:#600;display:inline-block;width:100%}</style><link href=https://fonts.gstatic.com rel=preconnect data-svelte=svelte-1vo6mso><link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,700;1,400&display=swap" rel=stylesheet data-svelte=svelte-1vo6mso><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&display=swap" rel=stylesheet data-svelte=svelte-1vo6mso><meta content="Esse post explica os conceitos básicos de Git e como ele interaje com o Github; tudo isso da forma mais didática possível :]" name=description data-svelte=svelte-1idbew5><meta content="Luciano Ratamero, git, github, boas práticas, organização de branches, parte 3" name=keywords data-svelte=svelte-1idbew5> <link href=/client/client.ba4c128a.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-2e2ca2b4.css rel=preload as=style><link href=/client/index.392ddf08.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js.gz rel=modulepreload as=script crossorigin=use-credentials></head> <body> <div id=sapper> <section class="dark-theme theme"><section class=transition-wrapper><main><article class=blog-post> <h1><mark>git e github parte 3: boas práticas de organização de branches</mark></h1> <p class=meta>2016-02-19</p> <figure><img alt="Ilustração com logo do git e do github" src=https://lucianoratamero.github.io/img/cover-git-3.png></figure> <p>chegamos à parte 3 dos posts sobre git e github! nos <a href=https://lucianoratamero.github.io/blog/git-e-github-parte-1-o-que-sao-e-como-usar/ >outros</a> <a href=https://lucianoratamero.github.io/blog/git-e-github-parte-2-conceitos-basicos-para-trabalhar-com-git/ >dois</a>, falei sobre o que são o git e o github e slguns conceitos básicos pra começar a usar o git. hoje, vou falar mais sobre algumas boas práticas pra organização de branches, baseado nas sugestões do <a href=https://github.com/nvie/gitflow>git flow</a>. </p> <hr> <h3>o que é o git flow?</h3> <p>o <strong>git flow</strong> é uma extensão do git que permite uma maior organização e agilidade na hora de lidar com o git. ele segue uma série de convenções que caracterizam alguns tipos de branches com responsabilidades diferentes, próprias pra cada etapa do processo de desenvolvimento. vou detalhar melhor o papel de cada um dos tipos de branch. </p> <div class="alert alert-info text-center"><p><strong>lembre-se:</strong></p> <p>essas são apenas <strong>sugestões</strong> minhas e das próprias convenções do git flow. </p> <p>o uso dessas sugestões muda de projeto a projeto, apesar dessas sugestões funcionarem em grande parte dos casos. </div> <h3>branch <code>master/main</code></h3> <figure><img alt="Ilustração de uma branch principal, chamada master ou main" src=https://lucianoratamero.github.io/img/master.jpg></figure> <p>o branch <code>master</code> (ou, preferivelmente, <code>main</code>) é o branch no qual está o código que está em <strong>produção</strong>, ou seja, que está sendo <strong>diretamente usado pelos clientes</strong>. ele é caracterizado por sua grande quantidade de <strong>tags</strong>, que refletem cada versão do projeto que foi pra uso corrente. nele, não se deve ter commits soltos; devemos apenas adicionar commits nele através de merges de branches de <code>release</code> e de <code>hotfix</code>. </p> <h3>branch <code>develop</code></h3> <figure><img alt="Ilustração de uma branch paralela à principal, chamada develop" src=https://lucianoratamero.github.io/img/develop.jpg></figure> <p>o branch <code>develop</code> é o que contém o código previsto para a próxima <code>release</code>, ou seja, o próximo código que irá pro ar. nele, também não devemos commitar diretamente, deixando que seu código seja fornecido pelos branches de <code>feature</code> e <code>hotfix</code>, mas essa regra é um pouco mais flexível que a do <code>master</code>. uma boa prática é sempre deixá-lo estável, pronto para ir para o ar a qualquer momento, para evitar que uma funcionalidade não vá pro ar por causa de instabilidade de outras. </p> <h3>branches de <code>release</code></h3> <figure><img alt="Ilustração de uma branch saindo de develop e dando merge na principal" src=https://lucianoratamero.github.io/img/release.jpg></figure> <p>os branches de <code>release</code> são aqueles que resumem o que uma nova versão do seu projeto terá. ele tem a responsabilidade de sair do <code>develop</code>, se mergear no <code>master</code> e no <code>develop</code> e, ao mergear no <code>master</code>, criar uma <code>tag</code> com o número da nova versão. geralmente, recebem o nome <code>release/[numero-da-versao]</code>. na minha experiência, acho uma má ideia commitar em branches de <code>release</code>, pelo simples motivo que, assim, temos certeza de que todo o código veio dos <code>hotfixes</code> e das <code>features</code>. dessa forma, os branches de <code>release</code> servem <strong>apenas como um ritual</strong> para que você tenha <strong>certeza</strong> do que está colocando no ar e qual é a versão desejada. é uma burocracia que já salvou minha vida algumas vezes. ;) </p> <h3>branches de <code>hotfix</code></h3> <figure><img alt="Ilustração de uma branch saindo da principal e dando merge na principal e na develop" src=https://lucianoratamero.github.io/img/hotfix.jpg></figure> <p>os branches de <code>hotfix</code> são os que são abertos na hora que algo em produção dá problema. são branches criados a partir do <code>master</code> e que se mergeiam novamente no <code>master</code> e no <code>develop</code>, já que precisamos das correções também no código que está sendo desenvolvido. geralmente, recebem o nome <code>hotfix/[numero-da-versao]</code>. eles também recebem suas próprias <code>tags</code>, que servem para dizer que, nesta versão, o problema x foi corrigido. </p> <h3>branches de <code>feature</code></h3> <figure><img alt="Ilustração de uma branch saindo da develop e dando merge na develop" src=https://lucianoratamero.github.io/img/feature.jpg></figure> <p>os branches de <code>feature</code> servem para, bem, features, né. eles partem do <code>develop</code> e mergeiam também no <code>develop</code>. geralmente, recebem o nome <code>feature/[descricao-da-funcionalidade]</code>. neles, commitamos o que é necessário para novas funcionalidades ficarem prontas, apesar de que eu, novamente, não recomendo que sejam feitos commits diretamente nele. o motivo disso é que, ao meu ver, features têm a tendência de terem muitos commits, o que deixaria difícil a revisão do código em um <em>pull request</em>. recomendo que, a partir dos branches de <code>feature</code>, sejam criados branches de <code>topic</code>, que terão o conteúdo de uma parte da funcionalidade, em um tamanho que permita a fácil revisão do código por outras pessoas. </p> <h3>branches de <code>topic</code></h3> <figure><img alt="Ilustração de uma branch saindo de uma feature e mergeando na mesma" src=https://lucianoratamero.github.io/img/topic.jpg></figure> <p>os branches de <code>topic</code> são os coringas. geralmente, recebem o nome <code>topic/[nome-do-topico-abordado]</code>. são usados em qualquer lugar em que seja legal ter mais de um tópico, para facilitar a revisão de código. na real, uso os branches de <code>topic</code> saindo dos de <code>feature</code> e mergeando nos mesmos, ou partindo de um branch de <code>hotfix</code> e mergeando nos mesmos. são os menores branches, feitos para serem lidos e revisados rapidamente. </p> <h3>e o que o git flow tem a ver com isso tudo?</h3> <p>o git flow, como eu disse, é uma extensão do git. ele cria comandos que servem de atalhos para os processos descritos acima. ele tem comandos para abrir e fechar <code>releases</code>, <code>features</code> e <code>hotfixes</code>, e é facilmente configurável. se essa organização de branches te interessou, acho que vale a pena dar uma olhada no <a href=https://github.com/nvie/gitflow>repositório deles</a> e ler o <a href=https://nvie.com/posts/a-successful-git-branching-model/ >post sobre o workflow deles</a>. nesse post, eles detalham melhor o que é realmente necessário ser feito pra realizar essa proposta de organização. </p> <p>como sempre, qualquer dúvida ou sugestão, é só falar nos comentários. espero que tenham gostado dessa série de posts e que tenha sido útil :D </p> <p>eu fico por aqui, até a próxima! o/</article></main></section> <nav class=svelte-12rvnlo><ul class=svelte-12rvnlo><li class=svelte-12rvnlo><a href=/ class=svelte-12rvnlo rel=prefetch>about</a></li> <li class=svelte-12rvnlo><a href=blog class=svelte-12rvnlo rel=prefetch aria-current=page>blog</a></li> <li class=svelte-12rvnlo><a href=previous-talks class=svelte-12rvnlo rel=prefetch>talks</a></ul> </nav></section></div> 